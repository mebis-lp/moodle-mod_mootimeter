define("mootimetertool_wordcloud/redraw_wordcloud",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);_exports.init=()=>{setInterval((function(){var pageid=document.getElementById("mootimeter_type_answer").dataset.pageid,lastposttimestamp=document.getElementById("mootimeter_lastupdated").value;_ajax.default.call([{methodname:"mootimetertool_wordcloud_get_answers",args:{pageid:pageid,lastupdated:lastposttimestamp},fail:_notification.default.exception}])[0].then((function(results){if(results.lastupdated==lastposttimestamp)return;document.getElementById("mootimeter_lastupdated").value=results.lastupdated,document.getElementById("wordcloudcanvas").setAttribute("data-answers",JSON.stringify(results.answerlist)),document.getElementById("wordcloudcanvas").dispatchEvent(new Event("redrawwordcloud"))})).fail()}),1e3)}}));

//# sourceMappingURL=redraw_wordcloud.min.js.map